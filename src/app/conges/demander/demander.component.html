<div style="padding: 10px 0px 0px; ">
  <h3 style="margin-left: 20px; display: block;">DEMANDER UN CONGE</h3>
</div>


<div id="top_box_missions" class="top_div" style="padding-top: 10px;">
  <div id="infos_missions" class = "column">
    <div class="labels_div">Type</div>
    <div style="margin-top: 10px; padding: 0 0 20px;">
      <select id='type_selector' class="soflow"
              [(ngModel)]="user_event.type"
      >
        <option selected disabled hidden>Type de congé</option>
        <option>Congé payé</option>
        <option>RTT</option>
        <option>Sans solde</option>
      </select>
    </div>

    <div class="labels_div" style="margin-top: 20px; padding: 30px 0 0px;">Jours restants</div>

    <div class="example-container">
      <table mat-table [dataSource]="dataSource">

        <!-- Position Column -->
        <ng-container matColumnDef="ROWS">
          <th mat-header-cell *matHeaderCellDef></th>
          <td mat-cell *matCellDef="let element"><b>{{element.header}}</b></td>
        </ng-container>

        <!-- Name Column -->
        <ng-container matColumnDef="ANNEE PASSEE">
          <th mat-header-cell *matHeaderCellDef> 2017 </th>
          <td mat-cell *matCellDef="let element"> {{element.past}} </td>
        </ng-container>

        <!-- Weight Column -->
        <ng-container matColumnDef="ANNEE EN COURS">
          <th mat-header-cell *matHeaderCellDef> 2018 </th>
          <td mat-cell *matCellDef="let element"> {{element.current}} </td>
        </ng-container>

        <!-- Symbol Column -->
        <ng-container matColumnDef="A VENIR">
          <th mat-header-cell *matHeaderCellDef> A VENIR </th>
          <td mat-cell *matCellDef="let element"> {{element.upcoming}} </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
      </table>
    </div>
  </div>


  <div class = "column">
    <table class="table table-bordered" style="padding:0 0 0;">
      <thead>
      <tr>
        <th>Du</th>
        <th>Matin/AM</th>
      </tr>
      </thead>
      <td style="padding:0 0 0;">
        <input
          class="form-control"
          type="text"
          mwlFlatpickr
          [(ngModel)] = "new_event.start"
          (ngModelChange)="refresh.next()"
          [altInput]="true"
          [convertModelValue]="true"
          [enableTime]="true"
          dateFormat="Y-m-d"
          altFormat="F j, Y"
          placeholder="Not set">
      </td>
      <td style="padding:0 0 0;">
        <select class="soflow" id="depart" style="margin: 12px 3px 10px;" [(ngModel)] = "start_period">
          <option>Matin</option>
          <option>Après-midi</option>
        </select>
      </td>
    </table>
    <table class="table table-bordered">
      <thead>
      <tr>
        <th>Au</th>
        <th>Matin/AM</th>
      </tr>
      </thead>
      <td style="padding:0 0 0;">
        <input
          class="form-control"
          type="text"
          mwlFlatpickr
          [(ngModel)] = "new_event.end"
          (ngModelChange)="refresh.next()"
          [altInput]="true"
          [convertModelValue]="true"
          [enableTime]="true"
          dateFormat="Y-m-d"
          altFormat="F j, Y"
          placeholder="Not set">
      </td>
      <td style="padding:0 0 0;">
        <select class="soflow" id="Retour" style="margin: 12px 3px 10px;" [(ngModel)] = "end_period">
          <option>Matin</option>
          <option>Après-midi</option>
        </select>
      </td>
    </table>

    <button
      class="validate-button"
      (click)="saveEvent()"
    >
      Valider la demande
    </button>
  </div>
</div>


<div style="padding: 10px 0 10px;">
  <h3 style="margin-left: 20px; float: left;">CALENDRIER SUR {{ (viewDate | calendarDate:(view + 'ViewTitle'):'fr').toUpperCase() }}</h3>
  <div class="btn-group" style= "border-color: #008CBA; margin-right: 20px; float:right">
    <div
      class="btn btn-primary"
      mwlCalendarPreviousView
      [view]="view"
      [(viewDate)]="viewDate"
      style= "background-color: #008CBA;"
      (viewDateChange)="activeDayIsOpen = false">
      <
    </div>
    <div
      class="btn btn-outline-secondary"
      mwlCalendarToday
      [(viewDate)]="viewDate">
      ◯
    </div>
    <div
      class="btn btn-primary"
      mwlCalendarNextView
      style= "background-color: #008CBA;"
      [view]="view"
      [(viewDate)]="viewDate"
      (viewDateChange)="activeDayIsOpen = false">
      >
    </div>
  </div>
</div>
<div style="margin-top: 40px; display: block; width: 96%; margin-left:2%;">
  <div [ngSwitch]="view">
    <mwl-calendar-month-view
      *ngSwitchCase="CalendarView.Month"
      [viewDate]="viewDate"
      [events]="events"
      [refresh]="refresh"
      [activeDayIsOpen]="activeDayIsOpen"
      (dayClicked)="dayClicked($event.day)"
      [style.height.px] = "70"
      [style.cal-month-view.height.px] = "70"
      [style.cal-day-cell.px] = "70"
      [style.cal-cell-top.height.px] = "70"
      [locale]="locale"
      (eventTimesChanged)="eventTimesChanged($event)">
    </mwl-calendar-month-view>
  </div>
</div>
